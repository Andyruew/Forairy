<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Forairy</title>
</head>
<body>
    <h1>Forairy Stories</h1>

    <ul>
        <!-- Diary posts -->
        {% for post in posts %}
            <li>
                <h2>{{ post.title }}</h2>
                <p>{{ post.content }}</p>
                <p>Author: {{ post.author }}</p>
                <p>Published on: {{ post.date_posted }}</p>

                <h3>Comments:</h3>
                <ul>
                    {% for comment in post.comments.all %}
                        <li>
                            <strong>{{ comment.author }}:</strong> {{ comment.content }}
                        </li>
                    {% endfor %}
                </ul>

                <!-- Comment Form -->
                <form method="post" action="{% url 'create-comment' post.id %}">
                    {% csrf_token %}
                    <label>
                        <input type="text" name="content" placeholder="Leave a comment">
                    </label>
                    <button type="submit">Add Comment</button>
                </form>
            </li>
        {% empty %} <!-- IF WE CAN NOT FIND ANY Diary entries-->
            <p>No diaries yet.</p>
        {% endfor %}
    </ul>

    <!-- sending our user to make diary post -->
    <a href="{% url 'post-create' %}">Create a New Diary Entry</a>
</body>
</html>
